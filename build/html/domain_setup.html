<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Domain Setup &mdash; JAX-Fluids Docs  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Boundary Condition Setup" href="boundary_condition_setup.html" />
    <link rel="prev" title="Restart Setup" href="restart_setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            JAX-Fluids Docs
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Top Classes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="InputManager.html">Input Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="InitializationManager.html">Initialization Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="SimulationManager.html">Simulation Manager</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="Example1_CylinderFlow2D.html">Example 1: Cylinder Flow in 2D</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="CaseSetup.html">Case Setup</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="general_setup.html">General Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="restart_setup.html">Restart Setup</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Domain Setup</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#axis-setup">Axis Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#domain-decomposition-setup">Domain Decomposition Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#particle-setup">Particle Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#other-parameters">Other Parameters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="boundary_condition_setup.html">Boundary Condition Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="initial_condition_setup.html">Initia Condition Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="material_manager_setup.html">Material Properties Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="NumericalSetup.html">Numerical Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="CylinderFlow.html">The python file</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Example2_BubbleCollapse2D.html">Example 2: Bubble Collapse in 2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="Example3_SupersonicRamp2D.html">Example 3: Ramp in 2D</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">JAX-Fluids Docs</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="Example1_CylinderFlow2D.html">Example 1: Cylinder Flow in 2D</a></li>
          <li class="breadcrumb-item"><a href="CaseSetup.html">Case Setup</a></li>
      <li class="breadcrumb-item active">Domain Setup</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/domain_setup.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="domain-setup">
<h1>Domain Setup<a class="headerlink" href="#domain-setup" title="Link to this heading"></a></h1>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DomainSetup</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">x</span><span class="p">:</span> <span class="n">AxisSetup</span>
    <span class="n">y</span><span class="p">:</span> <span class="n">AxisSetup</span>
    <span class="n">z</span><span class="p">:</span> <span class="n">AxisSetup</span>
    <span class="n">decomposition</span><span class="p">:</span> <span class="n">DomainDecompositionSetup</span>
    <span class="n">particle_setup</span><span class="p">:</span> <span class="n">ParticleSetup</span>
    <span class="n">active_axes</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">active_axes_indices</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">inactive_axes</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">inactive_axes_indices</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span>
    <span class="n">dim</span><span class="p">:</span> <span class="nb">int</span>
</pre></div>
</div>
<section id="axis-setup">
<h2>Axis Setup<a class="headerlink" href="#axis-setup" title="Link to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">AxisSetup</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">cells</span><span class="p">:</span> <span class="nb">int</span>
    <span class="nb">range</span><span class="p">:</span> <span class="n">Tuple</span>
    <span class="n">stretching</span><span class="p">:</span> <span class="n">MeshStretchingSetup</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cells</span></code>: Choose the number of cells for descretization in each axis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">range</span></code>: Choose the spatial range. (Tuple or List?)</p></li>
</ul>
<section id="mesh-stretching-setup">
<h3>Mesh Stretching Setup<a class="headerlink" href="#mesh-stretching-setup" title="Link to this heading"></a></h3>
<p>Use this setup block to get more precision in a specific region.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MeshStretchingSetup</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">tanh_value</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">ratio_fine_region</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">cells_fine</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">piecewise_parameters</span><span class="p">:</span> <span class="n">Tuple</span><span class="p">[</span><span class="n">PiecewiseStretchingParameters</span><span class="p">]</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: In JAX-Fluids, following types are provided: (“CHANNEL”, “BOUNDARY_LAYER”, “PIECEWISE”, “BUBBLE_1”, “BUBBLE_2”) + “HOMOGENEOUS” (?)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tanh_value</span></code>: If you choose “CHANNEL” or “BOUNDARY_LAYER”, you need to define this value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ratio_fine_region</span></code>: If you choose “BUBBLE_1” or “BUBBLE_2”, you need to define this value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cells_fine</span></code>: If you choose “BUBBLE_1” or “BUBBLE_2”, you need to define this value.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For the current example, if required, we need to choose “PIECEWISE” type.</p>
</div>
</section>
<section id="piecewise-stretching-parameters">
<h3>Piecewise Stretching Parameters<a class="headerlink" href="#piecewise-stretching-parameters" title="Link to this heading"></a></h3>
<p>In each axis, divide the spatial range to pieces. Then, specify the count and stretching type of cells for each piece.
Strestching refers to the change of the cell size.
.. Naturally, it is decrease-constant-increase.
.. &gt;&gt;&gt; |   |  | | | | |  |   |    | :)</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">PiecewiseStretchingParameters</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="nb">type</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">cells</span><span class="p">:</span> <span class="nb">int</span>
    <span class="n">upper_bound</span><span class="p">:</span> <span class="nb">float</span>
    <span class="n">lower_bound</span><span class="p">:</span> <span class="nb">float</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">type</span></code>: Choose the stretching type as following: (“DECREASING”, “INCREASING”, “CONSTANT”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cells</span></code>: Choose the divided number of cells for the piece.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">upper_bound</span></code>, <code class="docutils literal notranslate"><span class="pre">lower_bound</span></code>: Specify the pisce range.</p></li>
</ul>
</section>
</section>
<section id="domain-decomposition-setup">
<h2>Domain Decomposition Setup<a class="headerlink" href="#domain-decomposition-setup" title="Link to this heading"></a></h2>
<p>Split the domain into subdomains that can be solved in parallel and independently.
.. but require data exchange on the domain boundaries.
.. I guess it just solves the axes independant from eachother, which it seems we want it! so we add it with the default int=1.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DomainDecompositionSetup</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">split_x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">split_y</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">split_z</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">split_x</span></code>, <code class="docutils literal notranslate"><span class="pre">split_y</span></code>, <code class="docutils literal notranslate"><span class="pre">split_z</span></code>:(?)</p></li>
</ul>
</section>
<section id="particle-setup">
<h2>Particle Setup<a class="headerlink" href="#particle-setup" title="Link to this heading"></a></h2>
<p>Use this setup block if the problem involves particles. For this example, it can be skkiped.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">ParticleSetup</span><span class="p">(</span><span class="n">NamedTuple</span><span class="p">):</span>
    <span class="n">particle_count</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="other-parameters">
<h2>Other Parameters<a class="headerlink" href="#other-parameters" title="Link to this heading"></a></h2>
<p>Use the remaining parameters optionally to define the domein precisely. Axes = [x.y.z] and Indices = [0,1,2]</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">active_axes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">active_axes_indices</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inactive_axes</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inactive_axes_indices</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dim</span></code>: Dimension of the domain. (2D or 3D) (?)</p></li>
</ul>
<p>Below, the example setup for the domain is shown.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;domain&quot;</span><span class="p">:</span> <span class="p">{</span>
<span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
    <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span>
        <span class="mf">40.0</span>
    <span class="p">],</span>
    <span class="s2">&quot;stretching&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;PIECEWISE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DECREASING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lower_bound&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="s2">&quot;upper_bound&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CONSTANT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lower_bound&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;upper_bound&quot;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">40</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;INCREASING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lower_bound&quot;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;upper_bound&quot;</span><span class="p">:</span> <span class="mf">40.0</span><span class="p">,</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span>
    <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span>
        <span class="mf">10.0</span>
    <span class="p">],</span>
    <span class="s2">&quot;stretching&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;PIECEWISE&quot;</span><span class="p">,</span>
        <span class="s2">&quot;parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;DECREASING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lower_bound&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">10.0</span><span class="p">,</span>
            <span class="s2">&quot;upper_bound&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CONSTANT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lower_bound&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;upper_bound&quot;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">40</span>
            <span class="p">},</span>
            <span class="p">{</span>
            <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;INCREASING&quot;</span><span class="p">,</span>
            <span class="s2">&quot;lower_bound&quot;</span><span class="p">:</span> <span class="mf">4.0</span><span class="p">,</span>
            <span class="s2">&quot;upper_bound&quot;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span>
            <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">20</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">},</span>
<span class="s2">&quot;z&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;cells&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mf">0.0</span><span class="p">,</span>
        <span class="mf">1.0</span>
    <span class="p">]</span>
<span class="p">},</span>
<span class="s2">&quot;decomposition&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;split_x&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;split_y&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;split_z&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="restart_setup.html" class="btn btn-neutral float-left" title="Restart Setup" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="boundary_condition_setup.html" class="btn btn-neutral float-right" title="Boundary Condition Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, TUM-AER.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>